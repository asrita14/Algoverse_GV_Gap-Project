# Taxonomy of Errors in Model Outputs

Short doc to categorize why answers are wrong across GSM8K (math), MBPP (code), TruthfulQA (facts).  
Each category = **Definition** + **1 real example**.

## GSM8K (Math)
- `calc_error` — arithmetic slip in otherwise OK reasoning.
- `reasoning_gap` — wrong/missing logic step.
- `format_mismatch` — wrong units/format vs required final form.
- `instruction_miss` — solved the wrong thing / ignored constraint.

## MBPP (Code)
- `syntax_error` — doesn’t run (SyntaxError/NameError/Traceback).
- `logic_bug` — runs but wrong outputs (bad algo).
- `edge_case_fail` — breaks on empty/negatives/large inputs.
- `spec_misread` — wrong signature/IO or misread task.

## TruthfulQA (Facts)
- `factual_hallucination` — confidently false claim.
- `misleading_generalization` — partly true but misleading.
- `ambiguous_misread` — misunderstood the question.
- `hedged_nonanswer` — vague/hedged instead of a factual answer.

## Summary Table (auto-generated)

> ⚡ This table is generated by `scripts/update_taxonomy.py`.  
> Run:  
> ```bash
> python scripts/update_taxonomy.py
> ```  
> whenever new datasets are tagged, to refresh the counts.

<!-- AUTOGEN:START -->
| Dataset    | calc_error | format_mismatch | hedged_nonanswer | instruction_miss | logic_bug | spec_misread |
|------------|------------|-----------------|------------------|------------------|-----------|--------------|
| GSM8K      | 20         | 1               | 0                | 272              | 0         | 0            |
| MBPP       | 0          | 0               | 0                | 0                | 1         | 102          |
| TruthfulQA | 0          | 0               | 488              | 0                | 0         | 0            |
<!-- AUTOGEN:END -->





# UPDATED TAXONOMY
## GSM8K (Math Reasoning) – Li et al. (2024)  
- **calc_error** — arithmetic / calculation mistake.  
- **count_error** — counting mistake.  
- **hallucination** — introduces fictitious / irrelevant statement.  
- **missing_step** — skipped a required reasoning step.  
- **contradiction** — contradictory or inconsistent step.  
- **wrong_formula** — applied the wrong formula / concept.  
- **misread** — misunderstood or misparsed the problem.  
- **wrong_final** — correct reasoning but wrong final answer.  
- **other_reasoning** — misc. reasoning error not covered above.  

## MBPP (Code) – Dou et al. (2024)  
- **syntax** — syntax bug (e.g. SyntaxError, NameError).  
- **runtime** — runtime/exception bug (e.g. crash during execution).  
- **functional_wrong** — incorrect functionality / wrong logic.  
- **io_mismatch** — input/output mismatch.  
- **edge_case** — fails on edge-case inputs.  
- **api_misuse** — misuse of library/API function.  
- **type_error** — type mismatch or misannotation.  
- **off_by_one** — indexing mistake (off-by-one error).  
- **state_mutation** — unintended side-effect/state change.  
- **perf_timeout** — performance/time limit exceeded.  
- **test_leak** — solution “cheats” by leaking info from tests.  
- **other_code** — other bug not captured above.  

## TruthfulQA (Facts) – Xu et al. (2025)  
- **factual_hallucination** — confidently false claim.  
- **misleading_generalization** — partly true but misleading.  
- **ambiguous_misread** — misunderstood or misread the question.  
- **hedged_nonanswer** — vague or hedged instead of factual.  
- **other_attr** — other attribution/factual error.  


### Taxonomy v1 (10 row sanity)
Model: provider=openai, model=gpt-4o-mini (first runs)

# GSM8K — 10 row sample
Total: 10 | Rejected: 4
| Category         | Count | % of total |
|------------------|-------|-------------|
| Calculation error|     4 |        40.0 |

# MBPP — 10 row sample
Total: 10 | Rejected: 1
| Category       | Count | % of total |
|----------------|-------|-------------|
| Other code bug |     1 |        10.0 |

# TruthfulQA — 10 row sample
Total: 10 | Rejected: 3
| Category          | Count | % of total |
|-------------------|-------|-------------|
| Other attribution |     3 |        30.0 |
